/*!
 eadmin极速后台UI框架（我只想要个后台） | @author:317953536@qq.com 
*/
"use strict";var _createClass=function(){function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}}();function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var Popup=function(){function t(){_classCallCheck(this,t),this.Timer=null}return _createClass(t,null,[{key:"alert",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._createHtml({title:"消息提示",icon:"ri-error-warning-fill alert",txt:t.content,btn:'<button id="close" class="highlight middle">确定 (<em>3</em>)</button>'});var n=$(".popup");fadeIn(n),this._countdown(n,t)}},{key:"success",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._createHtml({title:"操作成功",icon:"ri-checkbox-circle-fill success",txt:t.content,btn:'<button id="close" class="highlight middle">确定 (<em>3</em>)</button>'});var n=$(".popup");fadeIn(n),this._countdown(n,t)}},{key:"error",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._createHtml({title:"操作失败",icon:"ri-close-circle-fill error",txt:t.content,btn:'<button id="close" class="highlight middle">确定 (<em>3</em>)</button>'});var n=$(".popup");fadeIn(n),this._countdown(n,t)}},{key:"confirm",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._createHtml({title:"操作确认",icon:"ri-question-fill confirm",txt:t.content,btn:'<button id="sure" class="highlight middle" style="margin-right:5px;">确定</button>\n\t\t\t\t\t<button id="close" class="middle">取消</button>'}),Eadmin.mask();var n=$(".popup");fadeIn(n),n.find("#close").on("click",function(){Eadmin.maskHide(),fadeOut(n),_.isFunction(t.cancel)&&t.cancel()}),n.find("#sure").on("click",function(){$(this).html("执行中...").attr("disabled",!0),_.isFunction(t.callback)&&t.callback()})}},{key:"_createHtml",value:function(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};1==$(".popup").length?((t=$(".popup")).is(":visible")&&t.hide(),(t={title:t.children(".title"),icon:t.children("i"),txt:t.children(".txt"),btn:t.children(".btn")}).title.html(n.title),t.icon.attr("class",n.icon),t.txt.html(n.txt),t.btn.html(n.btn)):(e='<div class="popup animated faster dn">\n\t\t\t\t<span class="title">'+n.title+'</span>\n\t\t\t\t<i class="'+n.icon+'"></i>\n\t\t\t\t<span class="txt">'+n.txt+'</span>\n\t\t\t\t<div class="btn">'+n.btn+"</div>\n\t\t\t</div>",$("body").append(e));var e=$(".window:visible").length;0<e&&$(".popup").css("z-index",9999+e)}},{key:"_countdown",value:function(t,n){var e=this,i=function(){Eadmin.maskHide(),fadeOut(t),clearInterval(e.Timer),e.Timer=null,_.isFunction(n.callback)&&n.callback(),!0===n.refresh&&Eadmin.refresh()};Eadmin.mask();var l=3;this.Timer=setInterval(function(){0!=--l?t.find("em").html(l):i()},1e3),t.find("#close").on("click",function(){i()})}}]),t}();