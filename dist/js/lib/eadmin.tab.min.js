/*!
 eadmin极速后台UI框架（我只想要个后台） | @author:317953536@qq.com 
*/
"use strict";var _createClass=function(){function n(t,a){for(var i=0;i<a.length;i++){var n=a[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,a,i){return a&&n(t.prototype,a),i&&n(t,i),t}}();function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var Tab=function(){function i(t,a){_classCallCheck(this,i),this.dom=scope(t),this.panel=this.dom.children(".tab-panel"),this.active=null,0!=this.panel.length?(this.param=a,this.run()):console.log("容器内没有找到.tab-panel元素，构建选项卡失败")}return _createClass(i,[{key:"run",value:function(){this._create(),this._init(),this._event()}},{key:"_create",value:function(){var i,n=this;0!=this.param.length?(i='<div class="tab">',_.each(this.param,function(t,a){i+="<span",!0===t.active&&(i+=' class="active"',n.active=a),i+=">",null!=t.num&&0<+t.num&&(i+='<div class="mark">'+t.num+"</div>"),null!=t.icon&&(i+='<i class="'+t.icon+'"></i>'),i+=t.name+"</span>"}),this.dom.prepend(i+="</div>"),this.tab=this.dom.children(".tab")):console.log("请至少指定1个选项卡")}},{key:"_init",value:function(){null==this.active&&(this.active=0),this.panel.eq(this.active).show(),this._load()}},{key:"_event",value:function(){var i=this;this.tab.on("click","span:not(.active)",function(){var t=[$(this),{}],a=t[0],t=t[1];t.index=a.index(),addClassExc(a,"active"),i.active=t.index,i.panel.hide().eq(t.index).show(),i._load()})}},{key:"_load",value:function(){var a,t,i=this.param[this.active].load;null!=i&&null==this.param[this.active].loaded&&(this.param[this.active].loaded=!0,a=this.panel.eq(this.active),t="tab-window-"+createId(),a.attr("id",t),Mount.window=t,a.html('<div class="panel-loading">\n\t\t\t\t\t\t<i class="ri-loader-4-line rotate"></i>页面加载中，请稍候...\n\t\t\t\t\t</div>'),Eadmin.currentHref=i,a.load(i,function(){defaultImg(a),block(a),Eadmin.form(a),Button.run(a),-1!=module.lib.indexOf("tag")&&Tag.run(a);var t=body.find(".iscroll");0<t.length&&t.each(function(){return!!$(this).hasClass("ps")||void Eadmin.scroll($(this)[0])}),-1!=module.lib.indexOf("progress")&&Progress.run(a)}))}}]),i}();