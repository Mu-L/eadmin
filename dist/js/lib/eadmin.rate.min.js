/*!
 eadmin极速后台UI框架（我只想要个后台） | @author:317953536@qq.com 
*/
"use strict";var _createClass=function(){function n(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,a,e){return a&&n(t.prototype,a),e&&n(t,e),t}}();function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var Rate=function(){function e(t,a){_classCallCheck(this,e),this.dom=t,this.domCache=scope(t),0!=this.domCache.length?(this.domCache.addClass("rate"),this.param=$.extend({default:0,disabled:!1,num:5,change:null},a),0<this.param.default&&this.domCache.data("level",this.param.default),this.run()):console.log("没有找到"+t+"，创建评分失败")}return _createClass(e,[{key:"run",value:function(){this._create(),this._event()}},{key:"_create",value:function(){for(var t="",a=1;a<=this.param.num;a++){var e=this.param.default>=a?" full":"";t+='<div class="animated faster star ri-star-line\n\t\t\t\t\t\t'+(this.param.disabled?" disabled":"")+"\n\t\t\t\t\t\t"+e+'" \n\t\t\t\t\t\tdata-level="'+a+'">\n\t\t\t\t\t</div>'}this.domCache.html(t)}},{key:"_event",value:function(){var e=0,n=0,a=this;a.domCache.on("mouseover",".star",function(){var t=$(this),a={parent:t.parent()};(1==(n=t.data("level"))?t:a.parent.children(".star:lt("+n+")")).addClass("full"),n-e<0&&a.parent.children(".star:gt("+(n-1)+")").removeClass("full")}).on("mouseout",".star",function(){e=n}).on("click",".star:not(.disabled)",function(){var t=$(this);t.removeClass("pulse").addClass("pulse").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("pulse")}),t.parent().data("level",n),_.isFunction(a.param.change)&&a.param.change(n)}).on("mouseleave",function(){var t=$(this),a=t.data("level");null!=a?(t.children(".star").removeClass("full"),t.children(".star:lt("+a+")").addClass("full")):t.children(".star").removeClass("full")})}}]),e}();