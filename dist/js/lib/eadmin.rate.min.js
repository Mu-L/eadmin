/*!
 eadmin极速后台UI框架（我只想要个后台） | @author:317953536@qq.com 
*/
"use strict";var _createClass=function(){function n(a,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,t,e){return t&&n(a.prototype,t),e&&n(a,e),a}}();function _classCallCheck(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}var Rate=function(){function e(a,t){if(_classCallCheck(this,e),this.dom=a,this.domCache=scope(a),0!=this.domCache.length){this.domCache.addClass("rate");this.param=$.extend({default:0,disabled:!1,num:5,change:null},t),0<this.param.default&&this.domCache.data("level",this.param.default),this.run()}else console.log("没有找到"+a+"，创建评分失败")}return _createClass(e,[{key:"run",value:function(){this._create(),this._event()}},{key:"_create",value:function(){for(var a="",t=1;t<=this.param.num;t++){var e=this.param.default>=t?" full":"";a+='<div class="animated faster star ri-star-line\n\t\t\t\t\t\t'+(this.param.disabled?" disabled":"")+"\n\t\t\t\t\t\t"+e+'" \n\t\t\t\t\t\tdata-level="'+t+'">\n\t\t\t\t\t</div>'}this.domCache.html(a)}},{key:"_event",value:function(){var e=0,n=0,t=this;t.domCache.on("mouseover",".star",function(){var a=$(this),t={parent:a.parent()};1==(n=a.data("level"))?a.addClass("full"):t.parent.children(".star:lt("+n+")").addClass("full"),n-e<0&&t.parent.children(".star:gt("+(n-1)+")").removeClass("full")}).on("mouseout",".star",function(){e=n}).on("click",".star:not(.disabled)",function(){var a=$(this);a.removeClass("pulse").addClass("pulse").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a.removeClass("pulse")}),a.parent().data("level",n),_.isFunction(t.param.change)&&t.param.change(n)}).on("mouseleave",function(){var a=$(this),t=a.data("level");null!=t?(a.children(".star").removeClass("full"),a.children(".star:lt("+t+")").addClass("full")):a.children(".star").removeClass("full")})}}]),e}();